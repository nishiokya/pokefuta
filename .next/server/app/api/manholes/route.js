"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/manholes/route";
exports.ids = ["app/api/manholes/route"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmanholes%2Froute&page=%2Fapi%2Fmanholes%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmanholes%2Froute.ts&appDir=%2FUsers%2Fnishiokya%2Fgit%2Fpokefuta%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fnishiokya%2Fgit%2Fpokefuta&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmanholes%2Froute&page=%2Fapi%2Fmanholes%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmanholes%2Froute.ts&appDir=%2FUsers%2Fnishiokya%2Fgit%2Fpokefuta%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fnishiokya%2Fgit%2Fpokefuta&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_nishiokya_git_pokefuta_src_app_api_manholes_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/manholes/route.ts */ \"(rsc)/./src/app/api/manholes/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/manholes/route\",\n        pathname: \"/api/manholes\",\n        filename: \"route\",\n        bundlePath: \"app/api/manholes/route\"\n    },\n    resolvedPagePath: \"/Users/nishiokya/git/pokefuta/src/app/api/manholes/route.ts\",\n    nextConfigOutput,\n    userland: _Users_nishiokya_git_pokefuta_src_app_api_manholes_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/manholes/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZtYW5ob2xlcyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGbWFuaG9sZXMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZtYW5ob2xlcyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRm5pc2hpb2t5YSUyRmdpdCUyRnBva2VmdXRhJTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRm5pc2hpb2t5YSUyRmdpdCUyRnBva2VmdXRhJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNXO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9rZWZ1dGEtcGhvdG8tdHJhY2tlci8/MzlkNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvbmlzaGlva3lhL2dpdC9wb2tlZnV0YS9zcmMvYXBwL2FwaS9tYW5ob2xlcy9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvbWFuaG9sZXMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9tYW5ob2xlc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvbWFuaG9sZXMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvbmlzaGlva3lhL2dpdC9wb2tlZnV0YS9zcmMvYXBwL2FwaS9tYW5ob2xlcy9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvbWFuaG9sZXMvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmanholes%2Froute&page=%2Fapi%2Fmanholes%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmanholes%2Froute.ts&appDir=%2FUsers%2Fnishiokya%2Fgit%2Fpokefuta%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fnishiokya%2Fgit%2Fpokefuta&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/manholes/route.ts":
/*!***************************************!*\
  !*** ./src/app/api/manholes/route.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @supabase/auth-helpers-nextjs */ \"(rsc)/./node_modules/@supabase/auth-helpers-nextjs/dist/index.js\");\n/* harmony import */ var _supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n/* harmony import */ var _data_sample_manholes_json__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/data/sample-manholes.json */ \"(rsc)/./src/data/sample-manholes.json\");\n\n\n\n\n// Helper functions to extract coordinates from PostGIS format\nfunction extractLatFromLocation(location) {\n    if (!location) return undefined;\n    const match = location.match(/POINT\\(([^\\s]+)\\s+([^\\s]+)\\)/);\n    return match ? parseFloat(match[2]) : undefined;\n}\nfunction extractLngFromLocation(location) {\n    if (!location) return undefined;\n    const match = location.match(/POINT\\(([^\\s]+)\\s+([^\\s]+)\\)/);\n    return match ? parseFloat(match[1]) : undefined;\n}\nasync function GET(request) {\n    try {\n        // Check if Supabase is configured\n        const supabaseUrl = \"https://kbwzwgsjqvflgfauzcpn.supabase.co\";\n        const supabaseKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtid3p3Z3NqcXZmbGdmYXV6Y3BuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgyODUwMjksImV4cCI6MjA3Mzg2MTAyOX0.6ExSRmih_RQ4GU4cM7p-IPSXXG-9NCgNqOCwH2yFzYQ\";\n        if (!supabaseUrl || !supabaseKey || supabaseUrl.includes(\"dummy\")) {\n            // Return sample data if Supabase is not configured\n            console.log(\"Using sample manhole data\");\n            const { searchParams } = new URL(request.url);\n            const visited = searchParams.get(\"visited\");\n            let filteredManholes = _data_sample_manholes_json__WEBPACK_IMPORTED_MODULE_3__;\n            // Apply visited filter\n            if (visited === \"true\") {\n                filteredManholes = _data_sample_manholes_json__WEBPACK_IMPORTED_MODULE_3__.filter((m)=>m.is_visited);\n            } else if (visited === \"false\") {\n                filteredManholes = _data_sample_manholes_json__WEBPACK_IMPORTED_MODULE_3__.filter((m)=>!m.is_visited);\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(filteredManholes);\n        }\n        const supabase = (0,_supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_1__.createRouteHandlerClient)({\n            cookies: next_headers__WEBPACK_IMPORTED_MODULE_2__.cookies\n        });\n        const { searchParams } = new URL(request.url);\n        // Get query parameters\n        const lat = searchParams.get(\"lat\");\n        const lng = searchParams.get(\"lng\");\n        const radius = searchParams.get(\"radius\") || \"50\"; // km\n        const limit = parseInt(searchParams.get(\"limit\") || \"1000\");\n        const visited = searchParams.get(\"visited\"); // 'true', 'false', or null for all\n        try {\n            // Try to fetch from manhole table\n            const { data: manholes, error } = await supabase.from(\"manhole\").select(\"*\").limit(limit);\n            if (error) {\n                console.error(\"Database error:\", error);\n                // If there's a database error, fall back to sample data\n                throw new Error(`Database query failed: ${error.message}`);\n            }\n            // If we have data, transform it to our expected format\n            if (manholes && manholes.length > 0) {\n                const manholesWithVisitStatus = manholes.map((manhole)=>({\n                        ...manhole,\n                        name: manhole.title || manhole.name || \"ポケふた\",\n                        description: manhole.description || \"\",\n                        city: manhole.municipality || manhole.city || \"\",\n                        address: manhole.address || \"\",\n                        // Extract coordinates from PostGIS location if needed\n                        latitude: manhole.latitude || extractLatFromLocation(manhole.location),\n                        longitude: manhole.longitude || extractLngFromLocation(manhole.location),\n                        is_visited: false,\n                        last_visit: null,\n                        photo_count: 0\n                    }));\n                // Apply visited filter to database results\n                let filteredManholes = manholesWithVisitStatus;\n                if (visited === \"true\") {\n                    filteredManholes = manholesWithVisitStatus.filter((m)=>m.is_visited);\n                } else if (visited === \"false\") {\n                    filteredManholes = manholesWithVisitStatus.filter((m)=>!m.is_visited);\n                }\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(filteredManholes);\n            }\n            // If table is empty, fall back to sample data\n            console.log(\"Manhole table is empty, using sample data\");\n            throw new Error(\"Table is empty\");\n        } catch (dbError) {\n            console.log(\"Database error, falling back to sample data:\", dbError.message);\n            // Fall back to sample data as before\n            const { searchParams } = new URL(request.url);\n            const visited = searchParams.get(\"visited\");\n            let filteredManholes = _data_sample_manholes_json__WEBPACK_IMPORTED_MODULE_3__;\n            // Apply visited filter\n            if (visited === \"true\") {\n                filteredManholes = _data_sample_manholes_json__WEBPACK_IMPORTED_MODULE_3__.filter((m)=>m.is_visited);\n            } else if (visited === \"false\") {\n                filteredManholes = _data_sample_manholes_json__WEBPACK_IMPORTED_MODULE_3__.filter((m)=>!m.is_visited);\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(filteredManholes);\n        }\n    } catch (error) {\n        console.error(\"API Error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const supabase = (0,_supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_1__.createRouteHandlerClient)({\n            cookies: next_headers__WEBPACK_IMPORTED_MODULE_2__.cookies\n        });\n        const body = await request.json();\n        // Validate required fields\n        const { name, description, prefecture, city, address, latitude, longitude, source_url } = body;\n        if (!name || !latitude || !longitude) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Name, latitude, and longitude are required\"\n            }, {\n                status: 400\n            });\n        }\n        // Insert new manhole\n        const { data: manhole, error } = await supabase.from(\"manhole\").insert({\n            name,\n            description,\n            prefecture,\n            city,\n            address,\n            latitude: parseFloat(latitude),\n            longitude: parseFloat(longitude),\n            source_url,\n            created_at: new Date().toISOString()\n        }).select().single();\n        if (error) {\n            console.error(\"Error creating manhole:\", error);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Failed to create manhole\"\n            }, {\n                status: 500\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(manhole, {\n            status: 201\n        });\n    } catch (error) {\n        console.error(\"API Error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUEyQixHQUNwQztnQkFBRW9CLFFBQVE7WUFBSTtRQUVsQjtRQUVBLE9BQU8zRCxxREFBWUEsQ0FBQzhCLElBQUksQ0FBQ2lCLFNBQVM7WUFBRVksUUFBUTtRQUFJO0lBRWxELEVBQUUsT0FBT3BCLE9BQU87UUFDZHBCLFFBQVFvQixLQUFLLENBQUMsY0FBY0E7UUFDNUIsT0FBT3ZDLHFEQUFZQSxDQUFDOEIsSUFBSSxDQUN0QjtZQUFFUyxPQUFPO1FBQXdCLEdBQ2pDO1lBQUVvQixRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3Bva2VmdXRhLXBob3RvLXRyYWNrZXIvLi9zcmMvYXBwL2FwaS9tYW5ob2xlcy9yb3V0ZS50cz80YmJmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBjcmVhdGVSb3V0ZUhhbmRsZXJDbGllbnQgfSBmcm9tICdAc3VwYWJhc2UvYXV0aC1oZWxwZXJzLW5leHRqcyc7XG5pbXBvcnQgeyBjb29raWVzIH0gZnJvbSAnbmV4dC9oZWFkZXJzJztcbmltcG9ydCB7IERhdGFiYXNlIH0gZnJvbSAnQC90eXBlcy9kYXRhYmFzZSc7XG5pbXBvcnQgc2FtcGxlTWFuaG9sZXMgZnJvbSAnQC9kYXRhL3NhbXBsZS1tYW5ob2xlcy5qc29uJztcblxuLy8gSGVscGVyIGZ1bmN0aW9ucyB0byBleHRyYWN0IGNvb3JkaW5hdGVzIGZyb20gUG9zdEdJUyBmb3JtYXRcbmZ1bmN0aW9uIGV4dHJhY3RMYXRGcm9tTG9jYXRpb24obG9jYXRpb246IHN0cmluZyk6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gIGlmICghbG9jYXRpb24pIHJldHVybiB1bmRlZmluZWQ7XG4gIGNvbnN0IG1hdGNoID0gbG9jYXRpb24ubWF0Y2goL1BPSU5UXFwoKFteXFxzXSspXFxzKyhbXlxcc10rKVxcKS8pO1xuICByZXR1cm4gbWF0Y2ggPyBwYXJzZUZsb2F0KG1hdGNoWzJdKSA6IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gZXh0cmFjdExuZ0Zyb21Mb2NhdGlvbihsb2NhdGlvbjogc3RyaW5nKTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcbiAgaWYgKCFsb2NhdGlvbikgcmV0dXJuIHVuZGVmaW5lZDtcbiAgY29uc3QgbWF0Y2ggPSBsb2NhdGlvbi5tYXRjaCgvUE9JTlRcXCgoW15cXHNdKylcXHMrKFteXFxzXSspXFwpLyk7XG4gIHJldHVybiBtYXRjaCA/IHBhcnNlRmxvYXQobWF0Y2hbMV0pIDogdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgLy8gQ2hlY2sgaWYgU3VwYWJhc2UgaXMgY29uZmlndXJlZFxuICAgIGNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMO1xuICAgIGNvbnN0IHN1cGFiYXNlS2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVk7XG5cbiAgICBpZiAoIXN1cGFiYXNlVXJsIHx8ICFzdXBhYmFzZUtleSB8fCBzdXBhYmFzZVVybC5pbmNsdWRlcygnZHVtbXknKSkge1xuICAgICAgLy8gUmV0dXJuIHNhbXBsZSBkYXRhIGlmIFN1cGFiYXNlIGlzIG5vdCBjb25maWd1cmVkXG4gICAgICBjb25zb2xlLmxvZygnVXNpbmcgc2FtcGxlIG1hbmhvbGUgZGF0YScpO1xuICAgICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgICAgY29uc3QgdmlzaXRlZCA9IHNlYXJjaFBhcmFtcy5nZXQoJ3Zpc2l0ZWQnKTtcblxuICAgICAgbGV0IGZpbHRlcmVkTWFuaG9sZXMgPSBzYW1wbGVNYW5ob2xlcztcblxuICAgICAgLy8gQXBwbHkgdmlzaXRlZCBmaWx0ZXJcbiAgICAgIGlmICh2aXNpdGVkID09PSAndHJ1ZScpIHtcbiAgICAgICAgZmlsdGVyZWRNYW5ob2xlcyA9IHNhbXBsZU1hbmhvbGVzLmZpbHRlcihtID0+IG0uaXNfdmlzaXRlZCk7XG4gICAgICB9IGVsc2UgaWYgKHZpc2l0ZWQgPT09ICdmYWxzZScpIHtcbiAgICAgICAgZmlsdGVyZWRNYW5ob2xlcyA9IHNhbXBsZU1hbmhvbGVzLmZpbHRlcihtID0+ICFtLmlzX3Zpc2l0ZWQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZmlsdGVyZWRNYW5ob2xlcyk7XG4gICAgfVxuXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVSb3V0ZUhhbmRsZXJDbGllbnQ8RGF0YWJhc2U+KHsgY29va2llcyB9KTtcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG5cbiAgICAvLyBHZXQgcXVlcnkgcGFyYW1ldGVyc1xuICAgIGNvbnN0IGxhdCA9IHNlYXJjaFBhcmFtcy5nZXQoJ2xhdCcpO1xuICAgIGNvbnN0IGxuZyA9IHNlYXJjaFBhcmFtcy5nZXQoJ2xuZycpO1xuICAgIGNvbnN0IHJhZGl1cyA9IHNlYXJjaFBhcmFtcy5nZXQoJ3JhZGl1cycpIHx8ICc1MCc7IC8vIGttXG4gICAgY29uc3QgbGltaXQgPSBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCdsaW1pdCcpIHx8ICcxMDAwJyk7XG4gICAgY29uc3QgdmlzaXRlZCA9IHNlYXJjaFBhcmFtcy5nZXQoJ3Zpc2l0ZWQnKTsgLy8gJ3RydWUnLCAnZmFsc2UnLCBvciBudWxsIGZvciBhbGxcblxuICAgIHRyeSB7XG4gICAgICAvLyBUcnkgdG8gZmV0Y2ggZnJvbSBtYW5ob2xlIHRhYmxlXG4gICAgICBjb25zdCB7IGRhdGE6IG1hbmhvbGVzLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ21hbmhvbGUnKVxuICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgLmxpbWl0KGxpbWl0KTtcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0RhdGFiYXNlIGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgLy8gSWYgdGhlcmUncyBhIGRhdGFiYXNlIGVycm9yLCBmYWxsIGJhY2sgdG8gc2FtcGxlIGRhdGFcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEYXRhYmFzZSBxdWVyeSBmYWlsZWQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgd2UgaGF2ZSBkYXRhLCB0cmFuc2Zvcm0gaXQgdG8gb3VyIGV4cGVjdGVkIGZvcm1hdFxuICAgICAgaWYgKG1hbmhvbGVzICYmIG1hbmhvbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgbWFuaG9sZXNXaXRoVmlzaXRTdGF0dXMgPSBtYW5ob2xlcy5tYXAobWFuaG9sZSA9PiAoe1xuICAgICAgICAgIC4uLm1hbmhvbGUsXG4gICAgICAgICAgbmFtZTogbWFuaG9sZS50aXRsZSB8fCBtYW5ob2xlLm5hbWUgfHwgJ+ODneOCseOBteOBnycsXG4gICAgICAgICAgZGVzY3JpcHRpb246IG1hbmhvbGUuZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICAgICAgY2l0eTogbWFuaG9sZS5tdW5pY2lwYWxpdHkgfHwgbWFuaG9sZS5jaXR5IHx8ICcnLFxuICAgICAgICAgIGFkZHJlc3M6IG1hbmhvbGUuYWRkcmVzcyB8fCAnJyxcbiAgICAgICAgICAvLyBFeHRyYWN0IGNvb3JkaW5hdGVzIGZyb20gUG9zdEdJUyBsb2NhdGlvbiBpZiBuZWVkZWRcbiAgICAgICAgICBsYXRpdHVkZTogbWFuaG9sZS5sYXRpdHVkZSB8fCBleHRyYWN0TGF0RnJvbUxvY2F0aW9uKG1hbmhvbGUubG9jYXRpb24pLFxuICAgICAgICAgIGxvbmdpdHVkZTogbWFuaG9sZS5sb25naXR1ZGUgfHwgZXh0cmFjdExuZ0Zyb21Mb2NhdGlvbihtYW5ob2xlLmxvY2F0aW9uKSxcbiAgICAgICAgICBpc192aXNpdGVkOiBmYWxzZSwgLy8gRGVmYXVsdCB0byBmYWxzZSBzaW5jZSB3ZSBkb24ndCBoYXZlIHZpc2l0IGRhdGEgeWV0XG4gICAgICAgICAgbGFzdF92aXNpdDogbnVsbCxcbiAgICAgICAgICBwaG90b19jb3VudDogMFxuICAgICAgICB9KSk7XG5cbiAgICAgICAgLy8gQXBwbHkgdmlzaXRlZCBmaWx0ZXIgdG8gZGF0YWJhc2UgcmVzdWx0c1xuICAgICAgICBsZXQgZmlsdGVyZWRNYW5ob2xlcyA9IG1hbmhvbGVzV2l0aFZpc2l0U3RhdHVzO1xuICAgICAgICBpZiAodmlzaXRlZCA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgZmlsdGVyZWRNYW5ob2xlcyA9IG1hbmhvbGVzV2l0aFZpc2l0U3RhdHVzLmZpbHRlcihtID0+IG0uaXNfdmlzaXRlZCk7XG4gICAgICAgIH0gZWxzZSBpZiAodmlzaXRlZCA9PT0gJ2ZhbHNlJykge1xuICAgICAgICAgIGZpbHRlcmVkTWFuaG9sZXMgPSBtYW5ob2xlc1dpdGhWaXNpdFN0YXR1cy5maWx0ZXIobSA9PiAhbS5pc192aXNpdGVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihmaWx0ZXJlZE1hbmhvbGVzKTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgdGFibGUgaXMgZW1wdHksIGZhbGwgYmFjayB0byBzYW1wbGUgZGF0YVxuICAgICAgY29uc29sZS5sb2coJ01hbmhvbGUgdGFibGUgaXMgZW1wdHksIHVzaW5nIHNhbXBsZSBkYXRhJyk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RhYmxlIGlzIGVtcHR5Jyk7XG5cbiAgICB9IGNhdGNoIChkYkVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZygnRGF0YWJhc2UgZXJyb3IsIGZhbGxpbmcgYmFjayB0byBzYW1wbGUgZGF0YTonLCAoZGJFcnJvciBhcyBFcnJvcikubWVzc2FnZSk7XG4gICAgICAvLyBGYWxsIGJhY2sgdG8gc2FtcGxlIGRhdGEgYXMgYmVmb3JlXG4gICAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgICBjb25zdCB2aXNpdGVkID0gc2VhcmNoUGFyYW1zLmdldCgndmlzaXRlZCcpO1xuXG4gICAgICBsZXQgZmlsdGVyZWRNYW5ob2xlcyA9IHNhbXBsZU1hbmhvbGVzO1xuXG4gICAgICAvLyBBcHBseSB2aXNpdGVkIGZpbHRlclxuICAgICAgaWYgKHZpc2l0ZWQgPT09ICd0cnVlJykge1xuICAgICAgICBmaWx0ZXJlZE1hbmhvbGVzID0gc2FtcGxlTWFuaG9sZXMuZmlsdGVyKG0gPT4gbS5pc192aXNpdGVkKTtcbiAgICAgIH0gZWxzZSBpZiAodmlzaXRlZCA9PT0gJ2ZhbHNlJykge1xuICAgICAgICBmaWx0ZXJlZE1hbmhvbGVzID0gc2FtcGxlTWFuaG9sZXMuZmlsdGVyKG0gPT4gIW0uaXNfdmlzaXRlZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihmaWx0ZXJlZE1hbmhvbGVzKTtcbiAgICB9XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBUEkgRXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVSb3V0ZUhhbmRsZXJDbGllbnQ8RGF0YWJhc2U+KHsgY29va2llcyB9KTtcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG5cbiAgICAvLyBWYWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcbiAgICBjb25zdCB7XG4gICAgICBuYW1lLFxuICAgICAgZGVzY3JpcHRpb24sXG4gICAgICBwcmVmZWN0dXJlLFxuICAgICAgY2l0eSxcbiAgICAgIGFkZHJlc3MsXG4gICAgICBsYXRpdHVkZSxcbiAgICAgIGxvbmdpdHVkZSxcbiAgICAgIHNvdXJjZV91cmxcbiAgICB9ID0gYm9keTtcblxuICAgIGlmICghbmFtZSB8fCAhbGF0aXR1ZGUgfHwgIWxvbmdpdHVkZSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnTmFtZSwgbGF0aXR1ZGUsIGFuZCBsb25naXR1ZGUgYXJlIHJlcXVpcmVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gSW5zZXJ0IG5ldyBtYW5ob2xlXG4gICAgY29uc3QgeyBkYXRhOiBtYW5ob2xlLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdtYW5ob2xlJylcbiAgICAgIC5pbnNlcnQoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgcHJlZmVjdHVyZSxcbiAgICAgICAgY2l0eSxcbiAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgbGF0aXR1ZGU6IHBhcnNlRmxvYXQobGF0aXR1ZGUpLFxuICAgICAgICBsb25naXR1ZGU6IHBhcnNlRmxvYXQobG9uZ2l0dWRlKSxcbiAgICAgICAgc291cmNlX3VybCxcbiAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9KVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIG1hbmhvbGU6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIGNyZWF0ZSBtYW5ob2xlJyB9LFxuICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKG1hbmhvbGUsIHsgc3RhdHVzOiAyMDEgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBUEkgRXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImNyZWF0ZVJvdXRlSGFuZGxlckNsaWVudCIsImNvb2tpZXMiLCJzYW1wbGVNYW5ob2xlcyIsImV4dHJhY3RMYXRGcm9tTG9jYXRpb24iLCJsb2NhdGlvbiIsInVuZGVmaW5lZCIsIm1hdGNoIiwicGFyc2VGbG9hdCIsImV4dHJhY3RMbmdGcm9tTG9jYXRpb24iLCJHRVQiLCJyZXF1ZXN0Iiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VLZXkiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImluY2x1ZGVzIiwiY29uc29sZSIsImxvZyIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsInZpc2l0ZWQiLCJnZXQiLCJmaWx0ZXJlZE1hbmhvbGVzIiwiZmlsdGVyIiwibSIsImlzX3Zpc2l0ZWQiLCJqc29uIiwic3VwYWJhc2UiLCJsYXQiLCJsbmciLCJyYWRpdXMiLCJsaW1pdCIsInBhcnNlSW50IiwiZGF0YSIsIm1hbmhvbGVzIiwiZXJyb3IiLCJmcm9tIiwic2VsZWN0IiwiRXJyb3IiLCJtZXNzYWdlIiwibGVuZ3RoIiwibWFuaG9sZXNXaXRoVmlzaXRTdGF0dXMiLCJtYXAiLCJtYW5ob2xlIiwibmFtZSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJjaXR5IiwibXVuaWNpcGFsaXR5IiwiYWRkcmVzcyIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwibGFzdF92aXNpdCIsInBob3RvX2NvdW50IiwiZGJFcnJvciIsInN0YXR1cyIsIlBPU1QiLCJib2R5IiwicHJlZmVjdHVyZSIsInNvdXJjZV91cmwiLCJpbnNlcnQiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwic2luZ2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/manholes/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/data/sample-manholes.json":
/*!***************************************!*\
  !*** ./src/data/sample-manholes.json ***!
  \***************************************/
/***/ ((module) => {

module.exports = /*#__PURE__*/JSON.parse('[{"id":"sample-1","name":"ピカチュウマンホール","description":"ピカチュウが描かれた可愛いマンホール","prefecture":"神奈川県","city":"横浜市","address":"横浜市みなとみらい21","latitude":35.4595,"longitude":139.6317,"source_url":"https://example.com/pikachu-manhole","is_visited":true,"last_visit":"2024-01-15T10:30:00Z","photo_count":3},{"id":"sample-2","name":"イーブイマンホール","description":"イーブイとその進化系が描かれたマンホール","prefecture":"東京都","city":"渋谷区","address":"渋谷区渋谷1-1-1","latitude":35.6598,"longitude":139.7006,"source_url":"https://example.com/eevee-manhole","is_visited":false,"last_visit":null,"photo_count":0},{"id":"sample-3","name":"ポッチャママンホール","description":"ポッチャマが泳いでいる様子のマンホール","prefecture":"北海道","city":"札幌市","address":"札幌市中央区大通西1","latitude":43.0642,"longitude":141.3469,"source_url":"https://example.com/piplup-manhole","is_visited":true,"last_visit":"2024-02-20T14:15:00Z","photo_count":2},{"id":"sample-4","name":"カビゴンマンホール","description":"大きなカビゴンが寝ているマンホール","prefecture":"大阪府","city":"大阪市","address":"大阪市中央区道頓堀1","latitude":34.6686,"longitude":135.5023,"source_url":"https://example.com/snorlax-manhole","is_visited":false,"last_visit":null,"photo_count":0},{"id":"sample-5","name":"ゲンガーマンホール","description":"夜の街にぴったりなゲンガーのマンホール","prefecture":"京都府","city":"京都市","address":"京都市下京区烏丸通四条下ル","latitude":35.0056,"longitude":135.7681,"source_url":"https://example.com/gengar-manhole","is_visited":true,"last_visit":"2024-01-08T16:45:00Z","photo_count":1}]');

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/whatwg-url","vendor-chunks/set-cookie-parser","vendor-chunks/webidl-conversions","vendor-chunks/jose"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmanholes%2Froute&page=%2Fapi%2Fmanholes%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmanholes%2Froute.ts&appDir=%2FUsers%2Fnishiokya%2Fgit%2Fpokefuta%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fnishiokya%2Fgit%2Fpokefuta&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();