# ポケふた訪問記録 UI/UXデザイン仕様書

## 📱 概要
ポケモンマンホール（ポケふた）の訪問記録と写真を管理するモバイルファーストWebアプリケーション

**ターゲットユーザー**: 20〜40代のポケモンファン、位置情報ゲーム愛好者、マンホール蓋コレクター

---

## 🎨 デザインシステム

### カラーパレット
```css
Primary Red:    #FF6B6B (アクションボタン、訪問済みマーカー)
Primary Blue:   #4ECDC4 (ナビゲーション、情報表示)
Accent Yellow:  #FFE66D (ハイライト、バッジ、重要通知)
Dark Blue:      #1A535C (本文テキスト - WCAG AA準拠)
Light Blue:     #C7F0DB (カード背景、サブ要素)
White:          #FFFFFF (カード、背景)
Gray Scale:     #F8F9FA, #E9ECEF, #6C757D
```

### タイポグラフィ
```css
見出し1 (H1):   32px / Bold / 1.2行間
見出し2 (H2):   24px / Bold / 1.3行間
見出し3 (H3):   20px / SemiBold / 1.4行間
本文 (Body):    16px / Regular / 1.6行間
小文字 (Small): 14px / Regular / 1.5行間
キャプション:    12px / Regular / 1.4行間

最小タッチターゲット: 44×44px (iOS Human Interface Guidelines準拠)
```

### スペーシング
```
XXS: 4px   (アイコン間隔)
XS:  8px   (密なグループ)
S:   12px  (関連要素)
M:   16px  (セクション内)
L:   24px  (セクション間)
XL:  32px  (画面セクション)
XXL: 48px  (主要セクション)
```

---

## 📱 画面設計

### 1. ホーム画面

#### レイアウト構造
```
┌─────────────────────────┐
│  🗾 ポケふた [☰Menu]    │ ← Header (固定)
├─────────────────────────┤
│  ┌───────────────────┐  │
│  │  📊 統計カード    │  │ ← 大きな数字で一目で把握
│  │  訪問済み  総数   │  │
│  │    12     245    │  │
│  │  📸 写真          │  │
│  │    35            │  │
│  └───────────────────┘  │
├─────────────────────────┤
│  📷 写真を登録する      │ ← 主要CTA (60px高さ)
├─────────────────────────┤
│  🗺️  📍   📚           │ ← クイックアクション
│ マップ 近く 履歴        │   (44px以上のタップ領域)
├─────────────────────────┤
│  最近の訪問             │
│  ┌─────────────────┐   │
│  │[写真] 場所・日時│   │
│  └─────────────────┘   │
├─────────────────────────┤
│  近くの未訪問           │
│  位置情報を有効に...    │
└─────────────────────────┘
│ 🏠 🗺️ 📍 📷 📚        │ ← ボトムナビ (固定)
└─────────────────────────┘
```

#### インタラクション
- 統計カードタップ → 詳細ポップアップ（アニメーション付き）
- CTAボタン: 押下時に縮小→拡大アニメーション (0.2s)
- カードホバー: 上に2px移動 + シャドウ強化

---

### 2. 写真アップロード画面

#### 改善ポイント
1. **ドラッグ&ドロップゾーン**
   - サイズ: 最小200px高さ
   - 状態表示: 通常 / ホバー / ドラッグ中 / エラー
   - アイコンサイズ: 48px（視認性向上）

2. **アップロード進捗**
   ```
   ┌─────────────────────────┐
   │ 📸 [プレビュー画像]     │
   │ ファイル名.jpg          │
   │ ▓▓▓▓▓▓░░░░ 65%        │ ← プログレスバー
   │ ✓ EXIF読み込み完了     │
   │ 📍 マンホール検出: 瀬戸市│
   │ [×削除] [⬆アップロード]│
   └─────────────────────────┘
   ```

3. **フィードバック**
   - 成功: 緑色チェックマーク + 「アップロード完了」
   - エラー: 赤色アラート + 具体的なエラーメッセージ
   - 処理中: アニメーション付きスピナー

---

### 3. マップ画面

#### レイアウト
```
┌─────────────────────────┐
│ 🗺️ ポケふたマップ [☰]  │
├─────────────────────────┤
│  📊 245 総数 12 訪問済  │ ← 統計オーバーレイ
├─────────────────────────┤
│                         │
│    [地図コンテナ]        │ ← 70vh
│    📍マーカー表示        │
│         🎯現在地ボタン   │
│                         │
├─────────────────────────┤
│ マンホール一覧(50件)     │
│ ┌─────────────────┐     │
│ │ タイトル [●訪問済]│     │
│ │ 📍場所 🔖ポケモン │     │
│ └─────────────────┘     │
└─────────────────────────┘
```

#### マーカー仕様
- **訪問済み**: 赤色ピン（明るい）
- **未訪問**: 青色ピン（半透明）
- **選択中**: 黄色リング + パルスアニメーション
- タップ: ポップアップ表示（名称、距離、ボタン）

---

### 4. 訪問履歴画面

#### フィルター&ソート
```
┌─────────────────────────┐
│ 📅 訪問履歴 [☰]         │
├─────────────────────────┤
│ 12訪問 35写真 3都道府県  │
├─────────────────────────┤
│ [グリッド][リスト] [🔽]  │ ← 表示切替・フィルター
│ ┌─────────────────┐     │
│ │ 並び順: 訪問日時 │     │
│ │ 写真: すべて     │     │
│ │ 都道府県: すべて │     │
│ └─────────────────┘     │
├─────────────────────────┤
│ ┌──────┬──────┐         │
│ │[写真]│[写真]│         │ ← グリッド表示
│ │ 場所 │ 場所 │         │
│ │ 3枚  │ 5枚  │         │
│ └──────┴──────┘         │
└─────────────────────────┘
```

---

## 🎭 アニメーション仕様

### マイクロインタラクション
1. **ボタン押下**
   - Scale: 1.0 → 0.95 → 1.05 → 1.0
   - Duration: 200ms
   - Easing: ease-in-out

2. **カードホバー**
   - translateY: 0 → -8px
   - Shadow: sm → lg
   - Duration: 300ms

3. **ローディング**
   - スピナー: 360度回転 (1s linear infinite)
   - プログレスバー: シマーエフェクト (2s infinite)

4. **ページ遷移**
   - Slide-in from right: 250ms ease-out
   - Fade-in: opacity 0 → 1 (200ms)

### フィードバックアニメーション
```css
成功: 緑色チェック + バウンスイン (0.5s)
エラー: 赤色アラート + シェイク (0.3s)
処理中: パルスアニメーション (1s infinite)
```

---

## ♿ アクセシビリティ

### WCAG 2.1 AA準拠チェックリスト
- [x] テキストコントラスト比 4.5:1以上
- [x] タッチターゲット 44×44px以上
- [x] ARIAラベル付与（ボタン、リンク）
- [x] キーボードナビゲーション対応
- [x] Focus インジケーター明示
- [x] スクリーンリーダー対応
- [x] カラーブラインドモード配慮

### 音声読み上げ対応
```html
<button aria-label="写真をアップロード" role="button">
  <Camera aria-hidden="true" />
  写真を登録する
</button>
```

---

## 📐 レスポンシブデザイン

### ブレークポイント
```css
Mobile:  ~640px  (ベース設計)
Tablet:  641-1024px
Desktop: 1025px~

最大幅: 448px (container-pokemon)
```

### モバイル最適化
- タッチターゲット: 最小44px
- フォントサイズ: 最小14px
- 画像遅延ロード
- SafeArea対応（iOS notch対応）

---

## 🎯 UX改善ポイント

### 1. 即時フィードバック
- アップロード開始: スピナー表示（0.1s以内）
- 成功/失敗: トースト通知（3秒自動消去）

### 2. エラー防止
- 重複アップロード警告
- ファイル形式チェック（事前）
- 位置情報許可プロンプト

### 3. 効率化
- 最近訪問した場所のクイックアクセス
- よく使う機能を下部ナビに配置
- スワイプジェスチャー対応

### 4. 楽しさの追加
- アップロード成功時の祝福アニメーション
- バッジ獲得システム（10箇所訪問など）
- プログレスリング（コレクション達成率）

---

## 🔄 今後の拡張

1. **ダークモード**: システム設定に追従
2. **オフライン対応**: Service Worker実装
3. **プッシュ通知**: 近くのポケふた通知
4. **ソーシャル機能**: 友達との共有

---

更新日: 2025-10-09
バージョン: 1.0
